<!DOCTYPE html>
<html>
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,600,700,300' rel='stylesheet' type='text/css'>
  <script src="https://d3js.org/d3.v4.min.js"></script>
<!-- then some style tags-->

</head>
<body>
<script>


/* tie chart colors to team names */
var teamColors = {
  "Alabama": "#C31C45",
  "Michigan State": "#205649"
}

extractTeamColor = function(d) {
  return colorScale(d.Team)
}

teamColor = function(team_name) {
  return teamColors[team_name]
};

colorScale = d3.scaleOrdinal()
               .domain([
                 "Alabama",
                 "Michigan State"])
               .range([
                 "#C31C45",
                 "#205649"])

csvTeam = function(d) {
  return d.Team
}


/* defining the main chart functions */
function quartersChart(data_url) {
  d3.csv(data_url, csv_response)
}

function csv_response(error, data) {
  if (error) {
    console.error(error)
  }
  else {
    qData = data
    console.log("data loaded")

  }
}

/* building the chart in d3 */
bars.style("fill",function(d) { return teamColor(d.Team) })


/* run the whole chart function */
quartersChart("https://couchux.github.io/BAMA-MSU_SRbyQuarter.csv")

</script>

</body>
<!--
svg = d3.select("body").append("svg").attr("width","500").attr("height","500")
bars = svg.selectAll("text").data(qData).enter().append("text").attr("width","30").attr("height","30").attr("y",function(d,i) {return (i + 1) * 50})

svg = d3.select("body").append("svg").attr("width","500").attr("height","500")
bars = svg.selectAll("rect").data(qData).enter().append("rect").attr("width","200").attr("height","30").attr("fill","#008080").attr("y",function(d,i) {return (i + 1) * 50})

this worked with a scale!
colorScale = d3.scaleOrdinal()
               .domain([
                 "Alabama",
                 "Michigan State"])
               .range([
                 "#C31C45",
                 "#205649"])

barsText.style("fill",function(d) {return colorScale(d.Team)})
-->


</html>
