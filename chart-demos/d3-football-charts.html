<!DOCTYPE html>
<html lang="en">
<head>

  <!-- Basic Page Needs
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <meta charset="utf-8">
  <title>Demo d3 charts from my football charting project</title>
  <meta name="description" content="">
  <meta name="author" content="">

  <!-- Mobile Specific Metas
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- FONTS
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <link href="https://fonts.googleapis.com/css?family=Raleway:400,300,600" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Work+Sans:400,500" rel="stylesheet">

  <!-- CSS
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <link rel="stylesheet" href="css/normalize.css">
  <link rel="stylesheet" href="css/skeleton.css">
  <link rel="stylesheet" href="../RBR_charts/css/rbr_charts.css">

  <!-- D3 script for charts
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <script src="../RBR_charts/d3/4.2.2/d3.min.js"></script>

  <!-- Favicon
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <link rel="icon" type="image/png" href="images/favicon.png">

</head>
<body>

  <!-- Primary Page Layout
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <div class="container">
    <div class="row">
      <div class="one-half column" style="margin-top: 10%">
        <h3>D3 football chart&nbsp;samples</h3>
        <label>from Alex Couch, <a href="https://medium.com/alex-couch-s-portfolio" target="_blank">product designer</a></label>
        <p>Hi there. In preparation for the 2016 football season, I’ve been building out some charts for my favorite Alabama football blog, <a href="http://rollbamaroll.com" target="_blank">Roll Bama Roll</a>. I’ve done <a href="http://medium.com/alex-couch-s-portfolio/what-does-a-football-game-look-like-32c899ab39a4#.3ildtbato" target="_blank">football charting explorations</a> before, but it’s been especially fun to see some come to life in a web responsive, reproducible  medium.</p>
        <p>They’ll be on the blog in the coming months, but I wanted to post a sample here to show them in action. I use <a href="https://d3js.org" target="_blank">D3.js</a> to render the charts with real data, and some modifications on the <a href="http://getskeleton.com" target="_blank">Skeleton</a> framework for the rest of the page. The game was the Alabama - Michigan State <a href="http://www.espn.com/college-football/game?gameId=400852732" target="_blank">2015 Cotton Bowl</a>. Enjoy.</p>
      </div>
    </div>
    <div class="row">
      <div class="nine columns explain">
        <label>About the definitions</label>
        <p>A "successful" football play, as defined by <a href="http://www.footballoutsiders.com/stats/ncaaoff" target="_blank">Football Outsiders</a>, is basically when a play gets enough yardage to keep the offense on track. That is: <span class="highlight">&nbsp;gaining 50% of needed yardage on 1st down, 70% on 2nd down, or 100% on 3rd or 4th.&nbsp;</span></p>
        <p>A "big play" (aka an "explosive play") has different definitions for different analysts, but I'm using a generous one: <span class="highlight">&nbsp;a run of 12+ yards, or a pass of 16+ yards, is a big play.&nbsp;</span></p>
      </div>
    </div>
  <!-- SRXR charts
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
    <div class="row chart-row">
      <div class="nine columns">
        <h5 class="chartTitle">Success and big play rates</h5>
        <div class="titleHR"></div>
        <p class="chartSubtitle">
          <span class="xRed">&#9679;&nbsp;</span>Big play rate (XR) and <span class="sRed">&#9679;&nbsp;</span>Success rate (SR)
        </p>
        <div id="srxr-q-charts-container">
          <script src="../RBR_charts/2015_BamaMSU/SRXR_quarters/BamaMSU_SRXR_Quarters.js"></script>
        </div>
        <p class="chartNote srxr-note">* NCAA average SR = 42%</p>
      </div>
    </div>
    <div class="row">
      <div class = "eight columns">
        <p>Here's a pretty application of "success" metrics in a game. Quarters aren’t the most refined unit of game time you can examine, but it’s easy and there’s already contextual understanding. Here, it’s interesting to see that while the game was consistently lopsided on a “plays success” basis, the big play rates were similar.</p>
        <p>These two bar charts are actually the same D3 function with the team names, filters, and colors pulled in as arguments. This saved me some lines of code in the JS file, but it pulls from the source (a hosted .csv file) twice, which isn’t optimal. At some point I’ll rebuild it to avoid that overhead.</p>
      </div>
    </div>

  <!-- Play quintiles chart
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
    <div class="row chart-row">
      <div class="nine columns">
        <h5 class="chartTitle">Plays by outcome</h5>
        <div class="titleHR"></div>
        <p class="chartSubtitle">
          <span class="ltRed">&#9679;&nbsp;</span>Unsuccessful, <span class="sRed">&#9679;&nbsp;</span>Successful, and&nbsp;<span class="xRed">&#9679;&nbsp;</span>Big play
        </p>
        <div id="plays-charts-container">
          <script src="../RBR_charts/2015_BamaMSU/Plays_quintiles/BamaMSU_Plays_Quintiles.js"></script>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="eight columns">
        <p>The gameflow dot-plot-like chart was prominently featured in my original piece about football charting (where the dots <a href="https://medium.com/alex-couch-s-portfolio/what-does-a-football-game-look-like-32c899ab39a4#.6hnaue3ei" target="_blank">look much more dot-like</a>). The quarter quintiles help show a more granular “flow” to the game by breaking down quarters according to game clock (15:00 left, then 12:, 9:, 6:, 3:). The resulting illustration is interesting, but I’m not sure that it’s superior to the prior chart, in part because people can often confuse the quarter quintiles for offensive drives.</p>
        <p>I had to around my D3 capabilities on this one a fair amount, e.g., using rectangles instead of circles to represent plays. Instead of arranging the plays on the page according to their play outcome type, team, quarter quintile, and quarter quintile play count (phew...), I instead drew the quarter quintiles as cascading vertical bars (first the unsuccessful plays, then successful, then big plays). I’m happy with the result in the near term, but would like to “really” render the dot plot later on so that I can introduce interactivity (e.g., hovering over a play brings up the play description) and layer over play type symbols.</p>
      </div>
    </div>

  <!-- Run rate line charts
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
    <div class="row chart-row">
      <div class="nine columns">
        <h5 class="chartTitle">Running and Passing</h5>
        <div class="titleHR"></div>
        <div id="runRate-charts-container">
          <div id="runRate-chart">
            <p class="chartSubtitle"><span class="sRed">&#9679;&nbsp;</span>Run rate (runs &#247; total plays), cumulative</p>
          </div>
          <div id="srRP-chart">
            <p class="chartSubtitle">Success rate for <span class="sRed">&#9679;&nbsp;</span>runs and <span class="ltRed">&#9679;&nbsp;</span>passes, cumulative</p>
          </div>
          <script src="../RBR_charts/2015_BamaMSU/RunRate_cume/BamaMSU_RunRate_Cume.js"></script>
        </div>
        <p class="chartNote runRate-note">* NCAA average SR = 42%</p>
      </div>
    </div>
    <div class="row">
      <div class="eight columns"
        <p>The line charts were fun for a few reasons. For one, the Alabama football fan base loves when the team runs the ball, so it’s interesting to see here that passing was the much more successful effort of the game (and how the offensive coordinator followed that trend by passing more often, up until the team was way ahead, that is).</p>
        <p>Also, this is the kind of chart where D3 is the most helpful: drawing multipoint SVG images (like a polyline) and placing them on HTML. A developer friend even said that the other charts here might be executed better in pure HTML, rather than even using SVGs. Be that as it may, I’m happy with how things have progressed.</p>
      </div>
    </div>
    <div class="row" style="margin-bottom: 10%;">
      <div class="one-half column">
        <p>That’s all for now. More to come this season!</p>
        <p>- Alex</p>
        <p><a href="https://medium.com/alex-couch-s-portfolio">my portfolio</a> |
            <a href="http://bit.ly/couch-linkedin">my LinkedIn</a></p>
  </div>

<!-- End Document
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
</body>
</html>
